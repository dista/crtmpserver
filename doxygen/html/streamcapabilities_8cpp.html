<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>crtmpserver: branches/1.0/sources/thelib/src/streaming/streamcapabilities.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">crtmpserver</div>
   <div id="projectbrief">AmediaserverforAdobe®Flash®,Apple®iOSdevicesandblahblah.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>branches/1.0/sources/thelib/src/streaming/streamcapabilities.cpp File Reference</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;streaming/streamcapabilities.h&quot;</code><br/>
</div>
<p><a href="streamcapabilities_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="streamcapabilities_8cpp.html#a12687bd89b595986b09d6f6aef7b2862">DUMP_VAL</a>(name, type, length)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="streamcapabilities_8cpp.html#aae78e1cbb158137b86b80406e38066d6">CHECK_BA_LIMITS</a>(name, length)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(name, type, length)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(name, type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="streamcapabilities_8cpp.html#a7d8b48825aa2d11d8d86be1f4a6d0483">__STREAM_CAPABILITIES_VERSION</a>&#160;&#160;&#160;MAKE_TAG4('V','E','R','3')</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="streamcapabilities_8cpp.html#abbe3765525e0079280f05c06556658f4">ReadSPSVUIHRD</a> (<a class="el" href="classBitArray.html">BitArray</a> &amp;ba, <a class="el" href="classVariant.html">Variant</a> &amp;v)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="streamcapabilities_8cpp.html#a3e1a6951244687d9483d500e78195114">ReadSPSVUI</a> (<a class="el" href="classBitArray.html">BitArray</a> &amp;ba, <a class="el" href="classVariant.html">Variant</a> &amp;v)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="streamcapabilities_8cpp.html#a28b388aa2335428f72faec2a36d25ee8">scaling_list</a> (<a class="el" href="classBitArray.html">BitArray</a> &amp;ba, uint8_t sizeOfScalingList)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="streamcapabilities_8cpp.html#abf167cf50a266372bd3fcebc01a6392b">ReadSPS</a> (<a class="el" href="classBitArray.html">BitArray</a> &amp;ba, <a class="el" href="classVariant.html">Variant</a> &amp;v)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="streamcapabilities_8cpp.html#ad032726e95190e0a18f7ad49accf3675">ReadPPS</a> (<a class="el" href="classBitArray.html">BitArray</a> &amp;ba, <a class="el" href="classVariant.html">Variant</a> &amp;v)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a7d8b48825aa2d11d8d86be1f4a6d0483"></a><!-- doxytag: member="streamcapabilities.cpp::__STREAM_CAPABILITIES_VERSION" ref="a7d8b48825aa2d11d8d86be1f4a6d0483" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __STREAM_CAPABILITIES_VERSION&#160;&#160;&#160;MAKE_TAG4('V','E','R','3')</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="streamcapabilities_8cpp_source.html#l00689">689</a> of file <a class="el" href="streamcapabilities_8cpp_source.html">streamcapabilities.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aae78e1cbb158137b86b80406e38066d6"></a><!-- doxytag: member="streamcapabilities.cpp::CHECK_BA_LIMITS" ref="aae78e1cbb158137b86b80406e38066d6" args="(name, length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHECK_BA_LIMITS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">length&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">if</span>(ba.AvailableBits()&lt;length) { \
        <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Unable to read `&quot;</span>name<span class="stringliteral">&quot;` value. Not enough bits. Wanted: %u; Have: %u&quot;</span>, \
                (uint32_t)length, ba.AvailableBits()); \
        <span class="keywordflow">return</span> <span class="keyword">false</span>; \
}
</pre></div>
<p>Definition at line <a class="el" href="streamcapabilities_8cpp_source.html#l00041">41</a> of file <a class="el" href="streamcapabilities_8cpp_source.html">streamcapabilities.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a12687bd89b595986b09d6f6aef7b2862"></a><!-- doxytag: member="streamcapabilities.cpp::DUMP_VAL" ref="a12687bd89b595986b09d6f6aef7b2862" args="(name, type, length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUMP_VAL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">length&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="streamcapabilities_8cpp_source.html#l00039">39</a> of file <a class="el" href="streamcapabilities_8cpp_source.html">streamcapabilities.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2d68f3baddf8d805486428648fa4244c"></a><!-- doxytag: member="streamcapabilities.cpp::READ_BOOL" ref="a2d68f3baddf8d805486428648fa4244c" args="(name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_BOOL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
        <a class="code" href="streamcapabilities_8cpp.html#aae78e1cbb158137b86b80406e38066d6">CHECK_BA_LIMITS</a>(name,1); \
        v[name]=(bool)(ba.ReadBits&lt;<span class="keywordtype">bool</span>&gt;(1)); \
        <a class="code" href="streamcapabilities_8cpp.html#a12687bd89b595986b09d6f6aef7b2862">DUMP_VAL</a>(name,<span class="keywordtype">bool</span>,1); \
}
</pre></div>
<p>Definition at line <a class="el" href="streamcapabilities_8cpp_source.html#l00065">65</a> of file <a class="el" href="streamcapabilities_8cpp_source.html">streamcapabilities.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aba34302f8c7bf923f0330352f1d0babd"></a><!-- doxytag: member="streamcapabilities.cpp::READ_EG" ref="aba34302f8c7bf923f0330352f1d0babd" args="(name, type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_EG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
        uint64_t ___value___=0; \
        <span class="keywordflow">if</span>(!ba.ReadExpGolomb(___value___)) { \
                <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Unable to read `&quot;</span>name<span class="stringliteral">&quot;` value&quot;</span>); \
                <span class="keywordflow">return</span> <span class="keyword">false</span>; \
        } \
        v[name]=(type)___value___; \
        <a class="code" href="streamcapabilities_8cpp.html#a12687bd89b595986b09d6f6aef7b2862">DUMP_VAL</a>(name,type,0); \
}
</pre></div>
<p>Definition at line <a class="el" href="streamcapabilities_8cpp_source.html#l00054">54</a> of file <a class="el" href="streamcapabilities_8cpp_source.html">streamcapabilities.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a04a1ec29511319cc0a5a42dfebd28000"></a><!-- doxytag: member="streamcapabilities.cpp::READ_INT" ref="a04a1ec29511319cc0a5a42dfebd28000" args="(name, type, length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_INT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">length&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
        <a class="code" href="streamcapabilities_8cpp.html#aae78e1cbb158137b86b80406e38066d6">CHECK_BA_LIMITS</a>(name,length); \
        v[name]=(type)ba.ReadBits&lt;type&gt;(length); \
        <a class="code" href="streamcapabilities_8cpp.html#a12687bd89b595986b09d6f6aef7b2862">DUMP_VAL</a>(name,type,length); \
}
</pre></div>
<p>Definition at line <a class="el" href="streamcapabilities_8cpp_source.html#l00048">48</a> of file <a class="el" href="streamcapabilities_8cpp_source.html">streamcapabilities.cpp</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ad032726e95190e0a18f7ad49accf3675"></a><!-- doxytag: member="streamcapabilities.cpp::ReadPPS" ref="ad032726e95190e0a18f7ad49accf3675" args="(BitArray &amp;ba, Variant &amp;v)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ReadPPS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBitArray.html">BitArray</a> &amp;&#160;</td>
          <td class="paramname"><em>ba</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVariant.html">Variant</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="streamcapabilities_8cpp_source.html#l00266">266</a> of file <a class="el" href="streamcapabilities_8cpp_source.html">streamcapabilities.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                       {
        <span class="comment">//7.3.2.2 Picture parameter set RBSP syntax</span>
        <span class="comment">//14496-10.pdf 44/280</span>
        <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;pic_parameter_set_id&quot;</span>, uint64_t);
        <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;seq_parameter_set_id&quot;</span>, uint64_t);
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;entropy_coding_mode_flag&quot;</span>);
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;pic_order_present_flag&quot;</span>);
        <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;num_slice_groups_minus1&quot;</span>, int64_t);
        <span class="keywordflow">if</span> ((int64_t) v[<span class="stringliteral">&quot;num_slice_groups_minus1&quot;</span>] &gt; 0) {
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;slice_group_map_type&quot;</span>, uint64_t);
                <span class="keywordflow">if</span> ((int64_t) v[<span class="stringliteral">&quot;slice_group_map_type&quot;</span>] == 0) {
                        <span class="keywordflow">for</span> (int64_t i = 0; i &lt; (int64_t) v[<span class="stringliteral">&quot;num_slice_groups_minus1&quot;</span>]; i++) {
                                uint64_t val = 0;
                                <span class="keywordflow">if</span> (!ba.<a class="code" href="classBitArray.html#a8de765d1fa10fb56d1f4397f54b50526">ReadExpGolomb</a>(val)) {
                                        <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Unable to read run_length_minus1 value&quot;</span>);
                                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                                }
                                v[<span class="stringliteral">&quot;run_length_minus1&quot;</span>].<a class="code" href="classVariant.html#a83e99f17906f01517d8a9eebf4a89584">PushToArray</a>(val);
                        }
                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((int64_t) v[<span class="stringliteral">&quot;slice_group_map_type&quot;</span>] == 2) {
                        <span class="keywordflow">for</span> (int64_t i = 0; i &lt; (int64_t) v[<span class="stringliteral">&quot;num_slice_groups_minus1&quot;</span>]; i++) {
                                uint64_t val = 0;
                                <span class="keywordflow">if</span> (!ba.<a class="code" href="classBitArray.html#a8de765d1fa10fb56d1f4397f54b50526">ReadExpGolomb</a>(val)) {
                                        <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Unable to read top_left value&quot;</span>);
                                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                                }
                                v[<span class="stringliteral">&quot;top_left&quot;</span>].<a class="code" href="classVariant.html#a83e99f17906f01517d8a9eebf4a89584">PushToArray</a>(val);

                                <span class="keywordflow">if</span> (!ba.<a class="code" href="classBitArray.html#a8de765d1fa10fb56d1f4397f54b50526">ReadExpGolomb</a>(val)) {
                                        <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Unable to read bottom_right value&quot;</span>);
                                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                                }
                                v[<span class="stringliteral">&quot;bottom_right&quot;</span>].<a class="code" href="classVariant.html#a83e99f17906f01517d8a9eebf4a89584">PushToArray</a>(val);
                        }
                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((int64_t) v[<span class="stringliteral">&quot;slice_group_map_type&quot;</span>] == 3)
                                || ((int64_t) v[<span class="stringliteral">&quot;slice_group_map_type&quot;</span>] == 4)
                                || ((int64_t) v[<span class="stringliteral">&quot;slice_group_map_type&quot;</span>] == 5)) {
                        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;slice_group_change_direction_flag&quot;</span>);
                        <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;slice_group_change_rate_minus1&quot;</span>, uint64_t);
                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((int64_t) v[<span class="stringliteral">&quot;slice_group_map_type&quot;</span>] == 6) {
                        <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;pic_size_in_map_units_minus1&quot;</span>, uint64_t);
                        <span class="keywordflow">for</span> (uint64_t i = 0; i &lt;= (uint64_t) v[<span class="stringliteral">&quot;pic_size_in_map_units_minus1&quot;</span>]; i++) {
                                uint64_t val = 0;
                                <span class="keywordflow">if</span> (!ba.<a class="code" href="classBitArray.html#a8de765d1fa10fb56d1f4397f54b50526">ReadExpGolomb</a>(val)) {
                                        <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Unable to read slice_group_id value&quot;</span>);
                                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                                }
                                v[<span class="stringliteral">&quot;slice_group_id&quot;</span>].<a class="code" href="classVariant.html#a83e99f17906f01517d8a9eebf4a89584">PushToArray</a>((int64_t) val);
                        }
                }
        }
        <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;num_ref_idx_l0_active_minus1&quot;</span>, uint64_t);
        <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;num_ref_idx_l1_active_minus1&quot;</span>, uint64_t);
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;weighted_pred_flag&quot;</span>);
        <a class="code" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(<span class="stringliteral">&quot;weighted_bipred_idc&quot;</span>, uint8_t, 2);
        <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;pic_init_qp_minus26&quot;</span>, int64_t);
        <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;pic_init_qs_minus26&quot;</span>, int64_t);
        <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;chroma_qp_index_offset&quot;</span>, int64_t);
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;deblocking_filter_control_present_flag&quot;</span>);
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;constrained_intra_pred_flag&quot;</span>);
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;redundant_pic_cnt_present_flag&quot;</span>);
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="abf167cf50a266372bd3fcebc01a6392b"></a><!-- doxytag: member="streamcapabilities.cpp::ReadSPS" ref="abf167cf50a266372bd3fcebc01a6392b" args="(BitArray &amp;ba, Variant &amp;v)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ReadSPS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBitArray.html">BitArray</a> &amp;&#160;</td>
          <td class="paramname"><em>ba</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVariant.html">Variant</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="streamcapabilities_8cpp_source.html#l00184">184</a> of file <a class="el" href="streamcapabilities_8cpp_source.html">streamcapabilities.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                       {
        <span class="comment">//7.3.2.1 Sequence parameter set RBSP syntax</span>
        <span class="comment">//14496-10.pdf 43/280</span>
        <a class="code" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(<span class="stringliteral">&quot;profile_idc&quot;</span>, uint8_t, 8);
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;constraint_set0_flag&quot;</span>);
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;constraint_set1_flag&quot;</span>);
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;constraint_set2_flag&quot;</span>);
        <a class="code" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(<span class="stringliteral">&quot;reserved_zero_5bits&quot;</span>, uint8_t, 5);
        <a class="code" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(<span class="stringliteral">&quot;level_idc&quot;</span>, uint8_t, 8);
        <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;seq_parameter_set_id&quot;</span>, uint64_t);
        <span class="keywordflow">if</span> ((uint64_t) v[<span class="stringliteral">&quot;profile_idc&quot;</span>] &gt;= 100) {
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;chroma_format_idc&quot;</span>, uint64_t);
                <span class="keywordflow">if</span> ((uint64_t) v[<span class="stringliteral">&quot;chroma_format_idc&quot;</span>] == 3)
                        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;residual_colour_transform_flag&quot;</span>);
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;bit_depth_luma_minus8&quot;</span>, uint64_t);
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;bit_depth_chroma_minus8&quot;</span>, uint64_t);
                <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;qpprime_y_zero_transform_bypass_flag&quot;</span>);
                <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;seq_scaling_matrix_present_flag&quot;</span>);
                <span class="keywordflow">if</span> ((<span class="keywordtype">bool</span>)v[<span class="stringliteral">&quot;seq_scaling_matrix_present_flag&quot;</span>]) {
                        <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; 8; i++) {
                                uint8_t flag = 0;
                                <a class="code" href="streamcapabilities_8cpp.html#aae78e1cbb158137b86b80406e38066d6">CHECK_BA_LIMITS</a>(<span class="stringliteral">&quot;seq_scaling_list_present_flag&quot;</span>, 1);
                                flag = ba.<a class="code" href="classBitArray.html#a8b27ffcf2339c72625c62d80420d0a05">ReadBits</a>&lt;uint8_t &gt; (1);
                                <span class="keywordflow">if</span> (flag) {
                                        <span class="keywordflow">if</span> (i &lt; 6) {
                                                <span class="keywordflow">if</span> (!<a class="code" href="streamcapabilities_8cpp.html#a28b388aa2335428f72faec2a36d25ee8">scaling_list</a>(ba, 16)) {
                                                        <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;scaling_list failed&quot;</span>);
                                                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                                                }
                                        } <span class="keywordflow">else</span> {
                                                <span class="keywordflow">if</span> (!<a class="code" href="streamcapabilities_8cpp.html#a28b388aa2335428f72faec2a36d25ee8">scaling_list</a>(ba, 64)) {
                                                        <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;scaling_list failed&quot;</span>);
                                                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                                                }
                                        }
                                }
                        }
                }
        }
        <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;log2_max_frame_num_minus4&quot;</span>, uint64_t);
        <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;pic_order_cnt_type&quot;</span>, uint64_t);
        <span class="keywordflow">if</span> ((uint64_t) v[<span class="stringliteral">&quot;pic_order_cnt_type&quot;</span>] == 0) {
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;log2_max_pic_order_cnt_lsb_minus4&quot;</span>, uint64_t);
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((uint64_t) v[<span class="stringliteral">&quot;pic_order_cnt_type&quot;</span>] == 1) {
                <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;delta_pic_order_always_zero_flag&quot;</span>);
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;offset_for_non_ref_pic&quot;</span>, int64_t);
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;offset_for_top_to_bottom_field&quot;</span>, int64_t);
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;num_ref_frames_in_pic_order_cnt_cycle&quot;</span>, uint64_t);
                <span class="keywordflow">for</span> (uint64_t i = 0; i &lt; (uint64_t) v[<span class="stringliteral">&quot;num_ref_frames_in_pic_order_cnt_cycle&quot;</span>]; i++) {
                        uint64_t val = 0;
                        <span class="keywordflow">if</span> (!ba.<a class="code" href="classBitArray.html#a8de765d1fa10fb56d1f4397f54b50526">ReadExpGolomb</a>(val)) {
                                <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Unable to read offset_for_ref_frame value&quot;</span>);
                                <span class="keywordflow">return</span> <span class="keyword">false</span>;
                        }
                        v[<span class="stringliteral">&quot;offset_for_ref_frame&quot;</span>].PushToArray((int64_t) val);
                }
        }
        <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;num_ref_frames&quot;</span>, uint64_t);
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;gaps_in_frame_num_value_allowed_flag&quot;</span>);
        <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;pic_width_in_mbs_minus1&quot;</span>, uint64_t);
        <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;pic_height_in_map_units_minus1&quot;</span>, uint64_t);
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;frame_mbs_only_flag&quot;</span>);
        <span class="keywordflow">if</span> (!((<span class="keywordtype">bool</span>)v[<span class="stringliteral">&quot;frame_mbs_only_flag&quot;</span>]))
                <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;mb_adaptive_frame_field_flag&quot;</span>);
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;direct_8x8_inference_flag&quot;</span>);
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;frame_cropping_flag&quot;</span>);
        <span class="keywordflow">if</span> ((<span class="keywordtype">bool</span>)v[<span class="stringliteral">&quot;frame_cropping_flag&quot;</span>]) {
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;frame_crop_left_offset&quot;</span>, uint64_t);
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;frame_crop_right_offset&quot;</span>, uint64_t);
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;frame_crop_top_offset&quot;</span>, uint64_t);
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;frame_crop_bottom_offset&quot;</span>, uint64_t);
        }
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;vui_parameters_present_flag&quot;</span>);
        <span class="keywordflow">if</span> ((<span class="keywordtype">bool</span>)v[<span class="stringliteral">&quot;vui_parameters_present_flag&quot;</span>]) {
                <span class="keywordflow">if</span> (!<a class="code" href="streamcapabilities_8cpp.html#a3e1a6951244687d9483d500e78195114">ReadSPSVUI</a>(ba, v[<span class="stringliteral">&quot;vui_parameters&quot;</span>])) {
                        <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Unable to read VUI&quot;</span>);
                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                }
        }
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3e1a6951244687d9483d500e78195114"></a><!-- doxytag: member="streamcapabilities.cpp::ReadSPSVUI" ref="a3e1a6951244687d9483d500e78195114" args="(BitArray &amp;ba, Variant &amp;v)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ReadSPSVUI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBitArray.html">BitArray</a> &amp;&#160;</td>
          <td class="paramname"><em>ba</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVariant.html">Variant</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="streamcapabilities_8cpp_source.html#l00102">102</a> of file <a class="el" href="streamcapabilities_8cpp_source.html">streamcapabilities.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                          {
        <span class="comment">//E.1.1 VUI parameters syntax</span>
        <span class="comment">//14496-10.pdf 267/280</span>
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;aspect_ratio_info_present_flag&quot;</span>);
        <span class="keywordflow">if</span> ((<span class="keywordtype">bool</span>)v[<span class="stringliteral">&quot;aspect_ratio_info_present_flag&quot;</span>]) {
                <a class="code" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(<span class="stringliteral">&quot;aspect_ratio_idc&quot;</span>, uint8_t, 8);
                <span class="keywordflow">if</span> ((uint8_t) v[<span class="stringliteral">&quot;aspect_ratio_idc&quot;</span>] == 255) {
                        <a class="code" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(<span class="stringliteral">&quot;sar_width&quot;</span>, uint16_t, 16);
                        <a class="code" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(<span class="stringliteral">&quot;sar_height&quot;</span>, uint16_t, 16);
                }
        }
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;overscan_info_present_flag&quot;</span>);
        <span class="keywordflow">if</span> ((<span class="keywordtype">bool</span>)v[<span class="stringliteral">&quot;overscan_info_present_flag&quot;</span>])
                <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;overscan_appropriate_flag&quot;</span>);
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;video_signal_type_present_flag&quot;</span>);
        <span class="keywordflow">if</span> ((<span class="keywordtype">bool</span>)v[<span class="stringliteral">&quot;video_signal_type_present_flag&quot;</span>]) {
                <a class="code" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(<span class="stringliteral">&quot;video_format&quot;</span>, uint8_t, 3);
                <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;video_full_range_flag&quot;</span>);
                <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;colour_description_present_flag&quot;</span>);
                <span class="keywordflow">if</span> ((<span class="keywordtype">bool</span>)v[<span class="stringliteral">&quot;colour_description_present_flag&quot;</span>]) {
                        <a class="code" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(<span class="stringliteral">&quot;colour_primaries&quot;</span>, uint8_t, 8);
                        <a class="code" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(<span class="stringliteral">&quot;transfer_characteristics&quot;</span>, uint8_t, 8);
                        <a class="code" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(<span class="stringliteral">&quot;matrix_coefficients&quot;</span>, uint8_t, 8);
                }
        }
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;chroma_loc_info_present_flag&quot;</span>);
        <span class="keywordflow">if</span> ((<span class="keywordtype">bool</span>)v[<span class="stringliteral">&quot;chroma_loc_info_present_flag&quot;</span>]) {
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;chroma_sample_loc_type_top_field&quot;</span>, uint64_t);
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;chroma_sample_loc_type_bottom_field&quot;</span>, uint64_t);
        }
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;timing_info_present_flag&quot;</span>);
        <span class="keywordflow">if</span> ((<span class="keywordtype">bool</span>)v[<span class="stringliteral">&quot;timing_info_present_flag&quot;</span>]) {
                <a class="code" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(<span class="stringliteral">&quot;num_units_in_tick&quot;</span>, uint32_t, 32);
                <a class="code" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(<span class="stringliteral">&quot;time_scale&quot;</span>, uint32_t, 32);
                <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;fixed_frame_rate_flag&quot;</span>);
        }
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;nal_hrd_parameters_present_flag&quot;</span>);
        <span class="keywordflow">if</span> ((<span class="keywordtype">bool</span>)v[<span class="stringliteral">&quot;nal_hrd_parameters_present_flag&quot;</span>]) {
                <span class="keywordflow">if</span> (!<a class="code" href="streamcapabilities_8cpp.html#abbe3765525e0079280f05c06556658f4">ReadSPSVUIHRD</a>(ba, v[<span class="stringliteral">&quot;nal_hrd&quot;</span>])) {
                        <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Unable to read VUIHRD&quot;</span>);
                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                }
        }
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;vcl_hrd_parameters_present_flag&quot;</span>);
        <span class="keywordflow">if</span> ((<span class="keywordtype">bool</span>)v[<span class="stringliteral">&quot;vcl_hrd_parameters_present_flag&quot;</span>]) {
                <span class="keywordflow">if</span> (!<a class="code" href="streamcapabilities_8cpp.html#abbe3765525e0079280f05c06556658f4">ReadSPSVUIHRD</a>(ba, v[<span class="stringliteral">&quot;vcl_hrd&quot;</span>])) {
                        <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Unable to read VUIHRD&quot;</span>);
                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                }
        }
        <span class="keywordflow">if</span> (((<span class="keywordtype">bool</span>)v[<span class="stringliteral">&quot;nal_hrd_parameters_present_flag&quot;</span>])
                        || ((<span class="keywordtype">bool</span>)v[<span class="stringliteral">&quot;vcl_hrd_parameters_present_flag&quot;</span>]))
                <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;low_delay_hrd_flag&quot;</span>);
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;pic_struct_present_flag&quot;</span>);
        <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;bitstream_restriction_flag&quot;</span>);
        <span class="keywordflow">if</span> ((<span class="keywordtype">bool</span>)v[<span class="stringliteral">&quot;bitstream_restriction_flag&quot;</span>]) {
                <a class="code" href="streamcapabilities_8cpp.html#a2d68f3baddf8d805486428648fa4244c">READ_BOOL</a>(<span class="stringliteral">&quot;motion_vectors_over_pic_boundaries_flag&quot;</span>);
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;max_bytes_per_pic_denom&quot;</span>, uint64_t);
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;max_bits_per_mb_denom&quot;</span>, uint64_t);
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;log2_max_mv_length_horizontal&quot;</span>, uint64_t);
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;log2_max_mv_length_vertical&quot;</span>, uint64_t);
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;num_reorder_frames&quot;</span>, uint64_t);
                <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;max_dec_frame_buffering&quot;</span>, uint64_t);
        }
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="abbe3765525e0079280f05c06556658f4"></a><!-- doxytag: member="streamcapabilities.cpp::ReadSPSVUIHRD" ref="abbe3765525e0079280f05c06556658f4" args="(BitArray &amp;ba, Variant &amp;v)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ReadSPSVUIHRD </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBitArray.html">BitArray</a> &amp;&#160;</td>
          <td class="paramname"><em>ba</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVariant.html">Variant</a> &amp;&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="streamcapabilities_8cpp_source.html#l00072">72</a> of file <a class="el" href="streamcapabilities_8cpp_source.html">streamcapabilities.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                             {
        <span class="comment">//E.1.2 HRD parameters syntax</span>
        <span class="comment">//14496-10.pdf 268/280</span>
        <a class="code" href="streamcapabilities_8cpp.html#aba34302f8c7bf923f0330352f1d0babd">READ_EG</a>(<span class="stringliteral">&quot;cpb_cnt_minus1&quot;</span>, uint64_t);
        <a class="code" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(<span class="stringliteral">&quot;bit_rate_scale&quot;</span>, uint8_t, 4);
        <a class="code" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(<span class="stringliteral">&quot;cpb_size_scale&quot;</span>, uint8_t, 4);
        <span class="keywordflow">for</span> (uint64_t i = 0; i &lt;= (uint64_t) v[<span class="stringliteral">&quot;cpb_cnt_minus1&quot;</span>]; i++) {
                uint64_t val = 0;
                <span class="keywordflow">if</span> (!ba.<a class="code" href="classBitArray.html#a8de765d1fa10fb56d1f4397f54b50526">ReadExpGolomb</a>(val)) {
                        <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Unable to read bit_rate_value_minus1 value&quot;</span>);
                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                }
                v[<span class="stringliteral">&quot;bit_rate_value_minus1&quot;</span>].<a class="code" href="classVariant.html#a83e99f17906f01517d8a9eebf4a89584">PushToArray</a>(val);

                <span class="keywordflow">if</span> (!ba.<a class="code" href="classBitArray.html#a8de765d1fa10fb56d1f4397f54b50526">ReadExpGolomb</a>(val)) {
                        <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Unable to read cpb_size_value_minus1 value&quot;</span>);
                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                }
                v[<span class="stringliteral">&quot;cpb_size_value_minus1&quot;</span>].<a class="code" href="classVariant.html#a83e99f17906f01517d8a9eebf4a89584">PushToArray</a>(val);

                <a class="code" href="streamcapabilities_8cpp.html#aae78e1cbb158137b86b80406e38066d6">CHECK_BA_LIMITS</a>(<span class="stringliteral">&quot;cbr_flag&quot;</span>, 1);
                v[<span class="stringliteral">&quot;cbr_flag&quot;</span>].<a class="code" href="classVariant.html#a83e99f17906f01517d8a9eebf4a89584">PushToArray</a>((<span class="keywordtype">bool</span>)ba.<a class="code" href="classBitArray.html#a8b27ffcf2339c72625c62d80420d0a05">ReadBits</a>&lt;<span class="keywordtype">bool</span>&gt;(1));
        }
        <a class="code" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(<span class="stringliteral">&quot;initial_cpb_removal_delay_length_minus1&quot;</span>, uint8_t, 5);
        <a class="code" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(<span class="stringliteral">&quot;cpb_removal_delay_length_minus1&quot;</span>, uint8_t, 5);
        <a class="code" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(<span class="stringliteral">&quot;dpb_output_delay_length_minus1&quot;</span>, uint8_t, 5);
        <a class="code" href="streamcapabilities_8cpp.html#a04a1ec29511319cc0a5a42dfebd28000">READ_INT</a>(<span class="stringliteral">&quot;time_offset_length&quot;</span>, uint8_t, 5);
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a28b388aa2335428f72faec2a36d25ee8"></a><!-- doxytag: member="streamcapabilities.cpp::scaling_list" ref="a28b388aa2335428f72faec2a36d25ee8" args="(BitArray &amp;ba, uint8_t sizeOfScalingList)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool scaling_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBitArray.html">BitArray</a> &amp;&#160;</td>
          <td class="paramname"><em>ba</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sizeOfScalingList</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="streamcapabilities_8cpp_source.html#l00169">169</a> of file <a class="el" href="streamcapabilities_8cpp_source.html">streamcapabilities.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                           {
        uint32_t nextScale = 8;
        uint32_t lastScale = 8;
        uint64_t delta_scale = 0;
        <span class="keywordflow">for</span> (uint8_t j = 0; j &lt; sizeOfScalingList; j++) {
                <span class="keywordflow">if</span> (nextScale != 0) {
                        <span class="keywordflow">if</span> (!ba.<a class="code" href="classBitArray.html#a8de765d1fa10fb56d1f4397f54b50526">ReadExpGolomb</a>(delta_scale))
                                <span class="keywordflow">return</span> <span class="keyword">false</span>;
                        nextScale = (lastScale + delta_scale + 256) % 256;
                }
                lastScale = (nextScale == 0) ? lastScale : nextScale;
        }
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Oct 19 2011 15:53:36 for crtmpserver by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
