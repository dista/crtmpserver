<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>crtmpserver: IOBuffer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">crtmpserver</div>
   <div id="projectbrief">AmediaserverforAdobe®Flash®,Apple®iOSdevicesandblahblah.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<h1>IOBuffer Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="IOBuffer" -->
<p>Base class which contains all the necessary functions involving input/output buffering.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="iobuffer_8h_source.html">iobuffer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for IOBuffer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classIOBuffer.png" usemap="#IOBuffer_map" alt=""/>
  <map id="IOBuffer_map" name="IOBuffer_map">
<area href="classBitArray.html" alt="BitArray" shape="rect" coords="0,56,60,80"/>
</map>
 </div></div>

<p><a href="classIOBuffer-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#aaddfcb5f6c59ca99d262dd9fafd8ecf0">IOBuffer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#a66faedaa020f56faedbafe32e6ea2f16">~IOBuffer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#ac343fca6dd34328b45b30d01a3f9aba3">Initialize</a> (uint32_t expected)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">initializes the buffer  <a href="#ac343fca6dd34328b45b30d01a3f9aba3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#aef673fe72845e835161d92dbb5e48a5a">ReadFromPipe</a> (int32_t fd, uint32_t expected, int32_t &amp;recvAmount)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read from Pipe and saves it.  <a href="#aef673fe72845e835161d92dbb5e48a5a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#a3a2e0d68faa4fb747779d15c7e5d9837">ReadFromTCPFd</a> (int32_t fd, uint32_t expected, int32_t &amp;recvAmount)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read from TCP <a class="el" href="classFile.html">File</a> Descriptor and saves it. This function is advisable for connection-oriented sockets.  <a href="#a3a2e0d68faa4fb747779d15c7e5d9837"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#acf88c7351c0fa791ac2e60f8db30674b">ReadFromUDPFd</a> (int32_t fd, int32_t &amp;recvAmount, sockaddr_in &amp;peerAddress)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read from UDP <a class="el" href="classFile.html">File</a> Descriptor and saves it. This function is advisable for connectionless-oriented sockets.  <a href="#acf88c7351c0fa791ac2e60f8db30674b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#ad203ec8a44dbbcfe0df25744223ca6ae">ReadFromStdio</a> (int32_t fd, uint32_t expected, int32_t &amp;recvAmount)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read from Standard IO and saves it.  <a href="#ad203ec8a44dbbcfe0df25744223ca6ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#ac1c5f1069e982700be078ff3dbf31684">ReadFromFs</a> (fstream &amp;fs, uint32_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read from <a class="el" href="classFile.html">File</a> Stream and saves it.  <a href="#ac1c5f1069e982700be078ff3dbf31684"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#a1b98b1362ee396a71590a9513d66cda6">ReadFromFs</a> (<a class="el" href="classFile.html">File</a> &amp;file, uint32_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read from <a class="el" href="classFile.html">File</a> Stream and saves it.  <a href="#a1b98b1362ee396a71590a9513d66cda6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#ada6ddd53a2959c54d2d621dfa3f11849">ReadFromBuffer</a> (const uint8_t *pBuffer, const uint32_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from buffer and copy it.  <a href="#ada6ddd53a2959c54d2d621dfa3f11849"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#a6c7df928b6fc7bd05b6cf5ef9318cd3b">ReadFromInputBuffer</a> (<a class="el" href="classIOBuffer.html">IOBuffer</a> *pInputBuffer, uint32_t start, uint32_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from an input buffer starting at a designated point.  <a href="#a6c7df928b6fc7bd05b6cf5ef9318cd3b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#a84144e3d86e85d21194aa019feebb77e">ReadFromInputBuffer</a> (const <a class="el" href="classIOBuffer.html">IOBuffer</a> &amp;buffer, uint32_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from an input buffer.  <a href="#a84144e3d86e85d21194aa019feebb77e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#a8c98256b9f533c29ae3db8c42a6d05a1">ReadFromString</a> (string binary)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from buffer from a string.  <a href="#a8c98256b9f533c29ae3db8c42a6d05a1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#a059102680d8d0030e085ab6bf3dea60e">ReadFromByte</a> (uint8_t byte)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from buffer byte data.  <a href="#a059102680d8d0030e085ab6bf3dea60e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#afa473a19c659e7f5ff5f21621c64699d">ReadFromBIO</a> (BIO *pBIO)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from a memory BIO.  <a href="#afa473a19c659e7f5ff5f21621c64699d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#ab7c1ac7f5d681703043e06c80f04f328">ReadFromRepeat</a> (uint8_t byte, uint32_t size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#a6cadeec056dd234871df4bdc62ef7d39">WriteToTCPFd</a> (int32_t fd, uint32_t size, int32_t &amp;sentAmount)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from buffer and store it.  <a href="#a6cadeec056dd234871df4bdc62ef7d39"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#aa1c75b17c4c9c5606d54da3a1be52b6a">WriteToStdio</a> (int32_t fd, uint32_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from standard IO and store it.  <a href="#aa1c75b17c4c9c5606d54da3a1be52b6a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#acd8f4ce69bc8eeb8b8767e859c2bf743">GetMinChunkSize</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the minimum chunk size. This value is initialized in the constructor.  <a href="#acd8f4ce69bc8eeb8b8767e859c2bf743"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#af8a67d517b6751c4ec18536f302b8e39">SetMinChunkSize</a> (uint32_t minChunkSize)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the value of the minimum chunk size.  <a href="#af8a67d517b6751c4ec18536f302b8e39"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#a837ebcb318194ba397e13e29ce98deb5">GetCurrentWritePosition</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of the buffer that has already been written on.  <a href="#a837ebcb318194ba397e13e29ce98deb5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#a47593955553743b30e3d963c8f5eb29c">GetPointer</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the pointer to the buffer.  <a href="#a47593955553743b30e3d963c8f5eb29c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#a2982aa7748a92968ee56e04f265c00bd">Ignore</a> (uint32_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Ignores a specified size of data in the buffer.  <a href="#a2982aa7748a92968ee56e04f265c00bd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#ac254264ebab5b285879865dbed41df07">IgnoreAll</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Ignores all data in the buffer.  <a href="#ac254264ebab5b285879865dbed41df07"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#a8f2bf798e91e250e13c60d01630f2a72">MoveData</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves the data in a buffer to optimize memory space.  <a href="#a8f2bf798e91e250e13c60d01630f2a72"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#a4fc721f3e44ce43dc15159cbd84e5c40">EnsureSize</a> (uint32_t expected)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes sure that there is enough memory space in the buffer. If space is not enough, a new buffer is created.  <a href="#a4fc721f3e44ce43dc15159cbd84e5c40"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#a38890768bf1ed5ebd03196102c9ff02d">ToString</a> (uint32_t startIndex=0, uint32_t limit=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#a06672702a705db287377d88316103f44">operator string</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#acd58f353a601999ad34aa9b96e6c54ca">DumpBuffer</a> (uint8_t *pBuffer, uint32_t length)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#ac856782a0693926fba8eaba6795bf489">_size</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#aeae3d4eddafba31f0cf4537834def622">_minChunkSize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">socklen_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#a24ef93f91b69eeb2257924e1a28a05eb">_dummy</a></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#accfaa5e27bc925746be12f7e4d440741">Cleanup</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIOBuffer.html#aa5163b05606767aa214cd4ea7f3fbd51">Recycle</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Base class which contains all the necessary functions involving input/output buffering. </p>

<p>Definition at line <a class="el" href="iobuffer_8h_source.html#l00036">36</a> of file <a class="el" href="iobuffer_8h_source.html">iobuffer.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aaddfcb5f6c59ca99d262dd9fafd8ecf0"></a><!-- doxytag: member="IOBuffer::IOBuffer" ref="aaddfcb5f6c59ca99d262dd9fafd8ecf0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IOBuffer::IOBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00036">36</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                   {
        <a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a> = NULL;
        <a class="code" href="classIOBuffer.html#ac856782a0693926fba8eaba6795bf489">_size</a> = 0;
        <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> = 0;
        <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a> = 0;
        <a class="code" href="classIOBuffer.html#aeae3d4eddafba31f0cf4537834def622">_minChunkSize</a> = 4096;
        <a class="code" href="classIOBuffer.html#a24ef93f91b69eeb2257924e1a28a05eb">_dummy</a> = <span class="keyword">sizeof</span> (sockaddr_in);
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a66faedaa020f56faedbafe32e6ea2f16"></a><!-- doxytag: member="IOBuffer::~IOBuffer" ref="a66faedaa020f56faedbafe32e6ea2f16" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IOBuffer::~IOBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00046">46</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                    {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <a class="code" href="classIOBuffer.html#accfaa5e27bc925746be12f7e4d440741">Cleanup</a>();
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="accfaa5e27bc925746be12f7e4d440741"></a><!-- doxytag: member="IOBuffer::Cleanup" ref="accfaa5e27bc925746be12f7e4d440741" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IOBuffer::Cleanup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00499">499</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                       {
        <span class="keywordflow">if</span> (<a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a> != NULL) {

                <span class="keyword">delete</span>[] <a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a>;
                <a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a> = NULL;
        }
        <a class="code" href="classIOBuffer.html#ac856782a0693926fba8eaba6795bf489">_size</a> = 0;
        <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> = 0;
        <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a> = 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="acd58f353a601999ad34aa9b96e6c54ca"></a><!-- doxytag: member="IOBuffer::DumpBuffer" ref="acd58f353a601999ad34aa9b96e6c54ca" args="(uint8_t *pBuffer, uint32_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string IOBuffer::DumpBuffer </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00437">437</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                             {
        <a class="code" href="classIOBuffer.html" title="Base class which contains all the necessary functions involving input/output buffering.">IOBuffer</a> temp;
        temp.<a class="code" href="classIOBuffer.html#ada6ddd53a2959c54d2d621dfa3f11849" title="Read data from buffer and copy it.">ReadFromBuffer</a>(pBuffer, length);
        <span class="keywordflow">return</span> temp.<a class="code" href="classIOBuffer.html#a38890768bf1ed5ebd03196102c9ff02d">ToString</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4fc721f3e44ce43dc15159cbd84e5c40"></a><!-- doxytag: member="IOBuffer::EnsureSize" ref="a4fc721f3e44ce43dc15159cbd84e5c40" args="(uint32_t expected)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IOBuffer::EnsureSize </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>expected</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Makes sure that there is enough memory space in the buffer. If space is not enough, a new buffer is created. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">expected</td><td>- This function makes sure that the size indicated by this parameter is accommodated.  In the case that a new buffer is created and the current buffer has data, the data is copied to the new buffer. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00393">393</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                           {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="comment">//1. Do we have enough space?</span>
        <span class="keywordflow">if</span> (<a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> + expected &lt;= <a class="code" href="classIOBuffer.html#ac856782a0693926fba8eaba6795bf489">_size</a>) {
                <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }

        <span class="comment">//2. Apparently we don&#39;t! Try to move some data</span>
        <a class="code" href="classIOBuffer.html#a8f2bf798e91e250e13c60d01630f2a72" title="Moves the data in a buffer to optimize memory space.">MoveData</a>();

        <span class="comment">//3. Again, do we have enough space?</span>
        <span class="keywordflow">if</span> (<a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> + expected &lt;= <a class="code" href="classIOBuffer.html#ac856782a0693926fba8eaba6795bf489">_size</a>) {
                <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }

        <span class="comment">//4. Nope! So, let&#39;s get busy with making a brand new buffer...</span>
        <span class="comment">//First, we allocate at least 1/3 of what we have and no less than _minChunkSize</span>
        <span class="keywordflow">if</span> ((<a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> + expected - <a class="code" href="classIOBuffer.html#ac856782a0693926fba8eaba6795bf489">_size</a>)&lt;(<a class="code" href="classIOBuffer.html#ac856782a0693926fba8eaba6795bf489">_size</a> / 3)) {
                expected = <a class="code" href="classIOBuffer.html#ac856782a0693926fba8eaba6795bf489">_size</a> + <a class="code" href="classIOBuffer.html#ac856782a0693926fba8eaba6795bf489">_size</a> / 3 - <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a>;
        }

        <span class="keywordflow">if</span> (expected &lt; <a class="code" href="classIOBuffer.html#aeae3d4eddafba31f0cf4537834def622">_minChunkSize</a>) {
                expected = <a class="code" href="classIOBuffer.html#aeae3d4eddafba31f0cf4537834def622">_minChunkSize</a>;
        }

        <span class="comment">//5. Allocate</span>
        uint8_t *pTempBuffer = <span class="keyword">new</span> uint8_t[<a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> + expected];

        <span class="comment">//6. Copy existing data if necessary and switch buffers</span>
        <span class="keywordflow">if</span> (<a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a> != NULL) {
                memcpy(pTempBuffer, <a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a>, <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a>);
                <span class="keyword">delete</span>[] <a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a>;
        }
        <a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a> = pTempBuffer;

        <span class="comment">//7. Update the size</span>
        <a class="code" href="classIOBuffer.html#ac856782a0693926fba8eaba6795bf489">_size</a> = <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> + expected;
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;

        <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a837ebcb318194ba397e13e29ce98deb5"></a><!-- doxytag: member="IOBuffer::GetCurrentWritePosition" ref="a837ebcb318194ba397e13e29ce98deb5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t IOBuffer::GetCurrentWritePosition </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the size of the buffer that has already been written on. </p>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00353">353</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                           {

        <span class="keywordflow">return</span> <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="acd8f4ce69bc8eeb8b8767e859c2bf743"></a><!-- doxytag: member="IOBuffer::GetMinChunkSize" ref="acd8f4ce69bc8eeb8b8767e859c2bf743" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t IOBuffer::GetMinChunkSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the minimum chunk size. This value is initialized in the constructor. </p>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00342">342</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                   {

        <span class="keywordflow">return</span> <a class="code" href="classIOBuffer.html#aeae3d4eddafba31f0cf4537834def622">_minChunkSize</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a47593955553743b30e3d963c8f5eb29c"></a><!-- doxytag: member="IOBuffer::GetPointer" ref="a47593955553743b30e3d963c8f5eb29c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t * IOBuffer::GetPointer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the pointer to the buffer. </p>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00358">358</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                              {

        <span class="keywordflow">return</span> <a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2982aa7748a92968ee56e04f265c00bd"></a><!-- doxytag: member="IOBuffer::Ignore" ref="a2982aa7748a92968ee56e04f265c00bd" args="(uint32_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IOBuffer::Ignore </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Ignores a specified size of data in the buffer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00363">363</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                   {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a> += size;
        <a class="code" href="classIOBuffer.html#aa5163b05606767aa214cd4ea7f3fbd51">Recycle</a>();
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;

        <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac254264ebab5b285879865dbed41df07"></a><!-- doxytag: member="IOBuffer::IgnoreAll" ref="ac254264ebab5b285879865dbed41df07" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IOBuffer::IgnoreAll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Ignores all data in the buffer. </p>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00372">372</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                         {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a> = <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a>;
        <a class="code" href="classIOBuffer.html#aa5163b05606767aa214cd4ea7f3fbd51">Recycle</a>();
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;

        <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac343fca6dd34328b45b30d01a3f9aba3"></a><!-- doxytag: member="IOBuffer::Initialize" ref="ac343fca6dd34328b45b30d01a3f9aba3" args="(uint32_t expected)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IOBuffer::Initialize </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>expected</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>initializes the buffer </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">expected</td><td>- The expected size of this buffer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00052">52</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                           {
        <span class="keywordflow">if</span> ((<a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a> != NULL) ||
                        (<a class="code" href="classIOBuffer.html#ac856782a0693926fba8eaba6795bf489">_size</a> != 0) ||
                        (<a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> != 0) ||
                        (<a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a> != 0))
                <a class="code" href="logging_8h.html#a821326052e3e2bf1fb2d678e9e9a6004">ASSERT</a>(<span class="stringliteral">&quot;This buffer was used before. Please initialize it before using&quot;</span>);
        <a class="code" href="classIOBuffer.html#a4fc721f3e44ce43dc15159cbd84e5c40" title="Makes sure that there is enough memory space in the buffer. If space is not enough, a new buffer is created.">EnsureSize</a>(expected);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8f2bf798e91e250e13c60d01630f2a72"></a><!-- doxytag: member="IOBuffer::MoveData" ref="a8f2bf798e91e250e13c60d01630f2a72" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IOBuffer::MoveData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Moves the data in a buffer to optimize memory space. </p>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00381">381</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                        {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordflow">if</span> (<a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> - <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a> &lt;= <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a>) {
                memcpy(<a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a>, <a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a> + <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a>, <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> - <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a>);
                <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> = <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> - <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a>;
                _consumed = 0;
        }
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;

        <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a06672702a705db287377d88316103f44"></a><!-- doxytag: member="IOBuffer::operator string" ref="a06672702a705db287377d88316103f44" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IOBuffer::operator string </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00494">494</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                          {

        <span class="keywordflow">return</span> <a class="code" href="classIOBuffer.html#a38890768bf1ed5ebd03196102c9ff02d">ToString</a>(0, 0);
}
</pre></div>
</div>
</div>
<a class="anchor" id="afa473a19c659e7f5ff5f21621c64699d"></a><!-- doxytag: member="IOBuffer::ReadFromBIO" ref="afa473a19c659e7f5ff5f21621c64699d" args="(BIO *pBIO)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IOBuffer::ReadFromBIO </td>
          <td>(</td>
          <td class="paramtype">BIO *&#160;</td>
          <td class="paramname"><em>pBIO</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read data from a memory BIO. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pBIO</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00262">262</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                    {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordflow">if</span> (pBIO == NULL) {
                <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
        int32_t bioAvailable = BIO_pending(pBIO);
        <span class="keywordflow">if</span> (bioAvailable &lt; 0) {
                <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;BIO_pending failed&quot;</span>);
                <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
        <span class="keywordflow">if</span> (bioAvailable == 0) {
                <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
        <a class="code" href="classIOBuffer.html#a4fc721f3e44ce43dc15159cbd84e5c40" title="Makes sure that there is enough memory space in the buffer. If space is not enough, a new buffer is created.">EnsureSize</a>((uint32_t) bioAvailable);
        int32_t written = BIO_read(pBIO, <a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a> + <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a>, bioAvailable);
        <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> += written;
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ada6ddd53a2959c54d2d621dfa3f11849"></a><!-- doxytag: member="IOBuffer::ReadFromBuffer" ref="ada6ddd53a2959c54d2d621dfa3f11849" args="(const uint8_t *pBuffer, const uint32_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IOBuffer::ReadFromBuffer </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read data from buffer and copy it. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pBuffer</td><td>- Buffer that contains the data to be read. </td></tr>
    <tr><td class="paramname">size</td><td>- Size of data to read. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00216">216</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                         {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordflow">if</span> (!<a class="code" href="classIOBuffer.html#a4fc721f3e44ce43dc15159cbd84e5c40" title="Makes sure that there is enough memory space in the buffer. If space is not enough, a new buffer is created.">EnsureSize</a>(size)) {
                <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
        memcpy(<a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a> + <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a>, pBuffer, size);
        <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> += size;
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a059102680d8d0030e085ab6bf3dea60e"></a><!-- doxytag: member="IOBuffer::ReadFromByte" ref="a059102680d8d0030e085ab6bf3dea60e" args="(uint8_t byte)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IOBuffer::ReadFromByte </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>byte</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read data from buffer byte data. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">byte</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00254">254</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                        {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <a class="code" href="classIOBuffer.html#a4fc721f3e44ce43dc15159cbd84e5c40" title="Makes sure that there is enough memory space in the buffer. If space is not enough, a new buffer is created.">EnsureSize</a>(1);
        <a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a>[<a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a>] = byte;
        <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a>++;
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac1c5f1069e982700be078ff3dbf31684"></a><!-- doxytag: member="IOBuffer::ReadFromFs" ref="ac1c5f1069e982700be078ff3dbf31684" args="(fstream &amp;fs, uint32_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IOBuffer::ReadFromFs </td>
          <td>(</td>
          <td class="paramtype">fstream &amp;&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read from <a class="el" href="classFile.html">File</a> Stream and saves it. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fs</td><td>- Descriptor that contains the data </td></tr>
    <tr><td class="paramname">size</td><td>- Size of the receiving buffer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00153">153</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                    {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordflow">if</span> (<a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> + size &gt; <a class="code" href="classIOBuffer.html#ac856782a0693926fba8eaba6795bf489">_size</a>) {
                <span class="keywordflow">if</span> (!<a class="code" href="classIOBuffer.html#a4fc721f3e44ce43dc15159cbd84e5c40" title="Makes sure that there is enough memory space in the buffer. If space is not enough, a new buffer is created.">EnsureSize</a>(size)) {
                        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                }
        }
        fs.read((<span class="keywordtype">char</span> *) <a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a> + <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a>, size);
        <span class="keywordflow">if</span> (fs.fail()) {
                <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
        <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> += size;
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1b98b1362ee396a71590a9513d66cda6"></a><!-- doxytag: member="IOBuffer::ReadFromFs" ref="a1b98b1362ee396a71590a9513d66cda6" args="(File &amp;file, uint32_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IOBuffer::ReadFromFs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classFile.html">File</a> &amp;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read from <a class="el" href="classFile.html">File</a> Stream and saves it. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fs</td><td>- Descriptor that contains the data </td></tr>
    <tr><td class="paramname">size</td><td>- Size of the receiving buffer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00171">171</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                   {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordflow">if</span> (size == 0) {
                <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
        <span class="keywordflow">if</span> (<a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> + size &gt; <a class="code" href="classIOBuffer.html#ac856782a0693926fba8eaba6795bf489">_size</a>) {
                <span class="keywordflow">if</span> (!<a class="code" href="classIOBuffer.html#a4fc721f3e44ce43dc15159cbd84e5c40" title="Makes sure that there is enough memory space in the buffer. If space is not enough, a new buffer is created.">EnsureSize</a>(size)) {
                        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                }
        }
        <span class="keywordflow">if</span> (!file.<a class="code" href="classFile.html#a57f7e353b29f9995bee1ee8f8c87596f">ReadBuffer</a>(<a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a> + <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a>, size)) {
                <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
        <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> += size;
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6c7df928b6fc7bd05b6cf5ef9318cd3b"></a><!-- doxytag: member="IOBuffer::ReadFromInputBuffer" ref="a6c7df928b6fc7bd05b6cf5ef9318cd3b" args="(IOBuffer *pInputBuffer, uint32_t start, uint32_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IOBuffer::ReadFromInputBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classIOBuffer.html">IOBuffer</a> *&#160;</td>
          <td class="paramname"><em>pInputBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read data from an input buffer starting at a designated point. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pInputBuffer</td><td>- Pointer to the input buffer </td></tr>
    <tr><td class="paramname">start</td><td>- The point where copying starts </td></tr>
    <tr><td class="paramname">size</td><td>- Size of data to read </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00228">228</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                        {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <a class="code" href="classIOBuffer.html#ada6ddd53a2959c54d2d621dfa3f11849" title="Read data from buffer and copy it.">ReadFromBuffer</a>(<a class="code" href="iobuffer_8h.html#aed6fd97222265185cb7d8fce70eaccd4">GETIBPOINTER</a>(*pInputBuffer) + start, size);
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a84144e3d86e85d21194aa019feebb77e"></a><!-- doxytag: member="IOBuffer::ReadFromInputBuffer" ref="a84144e3d86e85d21194aa019feebb77e" args="(const IOBuffer &amp;buffer, uint32_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IOBuffer::ReadFromInputBuffer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classIOBuffer.html">IOBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read data from an input buffer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>- Buffer that contains the data to be read. </td></tr>
    <tr><td class="paramname">size</td><td>- Size of data to read. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00234">234</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                        {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordflow">if</span> (!<a class="code" href="classIOBuffer.html#ada6ddd53a2959c54d2d621dfa3f11849" title="Read data from buffer and copy it.">ReadFromBuffer</a>(buffer.<a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a> + buffer.<a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a>, size)) {
                <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aef673fe72845e835161d92dbb5e48a5a"></a><!-- doxytag: member="IOBuffer::ReadFromPipe" ref="aef673fe72845e835161d92dbb5e48a5a" args="(int32_t fd, uint32_t expected, int32_t &amp;recvAmount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IOBuffer::ReadFromPipe </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>expected</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t &amp;&#160;</td>
          <td class="paramname"><em>recvAmount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read from Pipe and saves it. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td></td></tr>
    <tr><td class="paramname">expected</td><td>- Expected size of the buffer </td></tr>
    <tr><td class="paramname">recvAmount</td><td>- Size of data read </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00061">61</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                              {
        <span class="comment">//TODO: This is an UGLY hack.</span>
<span class="preprocessor">#ifndef WIN32</span>
<span class="preprocessor"></span>        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordflow">if</span> (<a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> + expected &gt; <a class="code" href="classIOBuffer.html#ac856782a0693926fba8eaba6795bf489">_size</a>) {
                <span class="keywordflow">if</span> (!<a class="code" href="classIOBuffer.html#a4fc721f3e44ce43dc15159cbd84e5c40" title="Makes sure that there is enough memory space in the buffer. If space is not enough, a new buffer is created.">EnsureSize</a>(expected)) {
                        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                }
        }
        recvAmount = read(fd, (<span class="keywordtype">char</span> *) (<a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a> + <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a>), expected);
        <span class="keywordflow">if</span> (recvAmount &gt; 0) {
                <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> += (uint32_t) recvAmount;
                <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
        } <span class="keywordflow">else</span> {
                int32_t err = errno;
                <span class="keywordflow">if</span> (err != EINPROGRESS) {
                        <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Unable to read from pipe: %d %s&quot;</span>, err, strerror(err));
                        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                }
                <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>        <a class="code" href="logging_8h.html#ad6b8f8500e5e7973c5ef2287d8e36f37">NYIA</a>;
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="ab7c1ac7f5d681703043e06c80f04f328"></a><!-- doxytag: member="IOBuffer::ReadFromRepeat" ref="ab7c1ac7f5d681703043e06c80f04f328" args="(uint8_t byte, uint32_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IOBuffer::ReadFromRepeat </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>byte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00285">285</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                         {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <a class="code" href="classIOBuffer.html#a4fc721f3e44ce43dc15159cbd84e5c40" title="Makes sure that there is enough memory space in the buffer. If space is not enough, a new buffer is created.">EnsureSize</a>(size);
        memset(<a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a> + <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a>, byte, size);
        <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> += size;
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad203ec8a44dbbcfe0df25744223ca6ae"></a><!-- doxytag: member="IOBuffer::ReadFromStdio" ref="ad203ec8a44dbbcfe0df25744223ca6ae" args="(int32_t fd, uint32_t expected, int32_t &amp;recvAmount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IOBuffer::ReadFromStdio </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>expected</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t &amp;&#160;</td>
          <td class="paramname"><em>recvAmount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read from Standard IO and saves it. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>- Descriptor that contains the data </td></tr>
    <tr><td class="paramname">expected</td><td>- Expected size of the receiving buffer </td></tr>
    <tr><td class="paramname">recvAmount</td><td>- Size of data received </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00133">133</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                               {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordflow">if</span> (<a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> + expected &gt; <a class="code" href="classIOBuffer.html#ac856782a0693926fba8eaba6795bf489">_size</a>) {
                <span class="keywordflow">if</span> (!<a class="code" href="classIOBuffer.html#a4fc721f3e44ce43dc15159cbd84e5c40" title="Makes sure that there is enough memory space in the buffer. If space is not enough, a new buffer is created.">EnsureSize</a>(expected)) {
                        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                }
        }

        recvAmount = READ_FD(fd, (<span class="keywordtype">char</span> *) (<a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a> + <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a>), expected);
        <span class="keywordflow">if</span> (recvAmount &gt; 0) {
                <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> += (uint32_t) recvAmount;
                <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
        } <span class="keywordflow">else</span> {
                <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8c98256b9f533c29ae3db8c42a6d05a1"></a><!-- doxytag: member="IOBuffer::ReadFromString" ref="a8c98256b9f533c29ae3db8c42a6d05a1" args="(string binary)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IOBuffer::ReadFromString </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>binary</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read data from buffer from a string. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">binary</td><td>- The string that will be read </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00244">244</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                           {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordflow">if</span> (!<a class="code" href="classIOBuffer.html#ada6ddd53a2959c54d2d621dfa3f11849" title="Read data from buffer and copy it.">ReadFromBuffer</a>((uint8_t *) binary.c_str(), (uint32_t) binary.length())) {
                <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3a2e0d68faa4fb747779d15c7e5d9837"></a><!-- doxytag: member="IOBuffer::ReadFromTCPFd" ref="a3a2e0d68faa4fb747779d15c7e5d9837" args="(int32_t fd, uint32_t expected, int32_t &amp;recvAmount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IOBuffer::ReadFromTCPFd </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>expected</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t &amp;&#160;</td>
          <td class="paramname"><em>recvAmount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read from TCP <a class="el" href="classFile.html">File</a> Descriptor and saves it. This function is advisable for connection-oriented sockets. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>- Descriptor that contains the data </td></tr>
    <tr><td class="paramname">expected</td><td>- Expected size of the receiving buffer </td></tr>
    <tr><td class="paramname">recvAmount</td><td>- Size of data received </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00092">92</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                               {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordflow">if</span> (<a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> + expected &gt; <a class="code" href="classIOBuffer.html#ac856782a0693926fba8eaba6795bf489">_size</a>) {
                <span class="keywordflow">if</span> (!<a class="code" href="classIOBuffer.html#a4fc721f3e44ce43dc15159cbd84e5c40" title="Makes sure that there is enough memory space in the buffer. If space is not enough, a new buffer is created.">EnsureSize</a>(expected)) {
                        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                }
        }

        recvAmount = recv(fd, (<span class="keywordtype">char</span> *) (<a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a> + <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a>), expected, MSG_NOSIGNAL);
        <span class="keywordflow">if</span> (recvAmount &gt; 0) {
                <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> += (uint32_t) recvAmount;
                <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
        } <span class="keywordflow">else</span> {
                <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
}
</pre></div>
</div>
</div>
<a class="anchor" id="acf88c7351c0fa791ac2e60f8db30674b"></a><!-- doxytag: member="IOBuffer::ReadFromUDPFd" ref="acf88c7351c0fa791ac2e60f8db30674b" args="(int32_t fd, int32_t &amp;recvAmount, sockaddr_in &amp;peerAddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IOBuffer::ReadFromUDPFd </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t &amp;&#160;</td>
          <td class="paramname"><em>recvAmount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sockaddr_in &amp;&#160;</td>
          <td class="paramname"><em>peerAddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read from UDP <a class="el" href="classFile.html">File</a> Descriptor and saves it. This function is advisable for connectionless-oriented sockets. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>- Descriptor that contains the data </td></tr>
    <tr><td class="paramname">recvAmount</td><td>- Size of data received </td></tr>
    <tr><td class="paramname">peerAddress</td><td>- The source's address </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00112">112</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                      {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordflow">if</span> (<a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> + 65536 &gt; <a class="code" href="classIOBuffer.html#ac856782a0693926fba8eaba6795bf489">_size</a>) {
                <span class="keywordflow">if</span> (!<a class="code" href="classIOBuffer.html#a4fc721f3e44ce43dc15159cbd84e5c40" title="Makes sure that there is enough memory space in the buffer. If space is not enough, a new buffer is created.">EnsureSize</a>(65536)) {
                        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                }
        }

        recvAmount = recvfrom(fd, (<span class="keywordtype">char</span> *) (<a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a> + <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a>), 65536,
                        MSG_NOSIGNAL, (sockaddr *) &amp; peerAddress, &amp;<a class="code" href="classIOBuffer.html#a24ef93f91b69eeb2257924e1a28a05eb">_dummy</a>);
        <span class="keywordflow">if</span> (recvAmount &gt; 0) {
                <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> += (uint32_t) recvAmount;
                <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
        } <span class="keywordflow">else</span> {
                <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa5163b05606767aa214cd4ea7f3fbd51"></a><!-- doxytag: member="IOBuffer::Recycle" ref="aa5163b05606767aa214cd4ea7f3fbd51" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IOBuffer::Recycle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00510">510</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                       {
        <span class="keywordflow">if</span> (<a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a> != <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a>)
                <span class="keywordflow">return</span>;
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a> = 0;
        <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> = 0;
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af8a67d517b6751c4ec18536f302b8e39"></a><!-- doxytag: member="IOBuffer::SetMinChunkSize" ref="af8a67d517b6751c4ec18536f302b8e39" args="(uint32_t minChunkSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IOBuffer::SetMinChunkSize </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>minChunkSize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the value of the minimum chunk size. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">minChunkSize</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00347">347</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                    {

        assert(minChunkSize &gt; 0 &amp;&amp; minChunkSize &lt; 16 * 1024 * 1024);
        <a class="code" href="classIOBuffer.html#aeae3d4eddafba31f0cf4537834def622">_minChunkSize</a> = minChunkSize;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a38890768bf1ed5ebd03196102c9ff02d"></a><!-- doxytag: member="IOBuffer::ToString" ref="a38890768bf1ed5ebd03196102c9ff02d" args="(uint32_t startIndex=0, uint32_t limit=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string IOBuffer::ToString </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>startIndex</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>limit</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00443">443</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                             {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordtype">string</span> allowedCharacters = <span class="stringliteral">&quot; 1234567890-=qwertyuiop[]asdfghjkl;&#39;\\`zxcvbnm&quot;</span>;
        allowedCharacters += <span class="stringliteral">&quot;,./!@#$%^&amp;*()_+QWERTYUIOP{}ASDFGHJKL:\&quot;|~ZXCVBNM&lt;&gt;?&quot;</span>;
        stringstream ss;
        ss &lt;&lt; <span class="stringliteral">&quot;Size: &quot;</span> &lt;&lt; <a class="code" href="classIOBuffer.html#ac856782a0693926fba8eaba6795bf489">_size</a> &lt;&lt; endl;
        ss &lt;&lt; <span class="stringliteral">&quot;Published: &quot;</span> &lt;&lt; <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> &lt;&lt; endl;
        ss &lt;&lt; <span class="stringliteral">&quot;Consumed: &quot;</span> &lt;&lt; <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a> &lt;&lt; endl;
        ss &lt;&lt; format(<span class="stringliteral">&quot;Address: %p&quot;</span>, <a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a>) &lt;&lt; endl;
        <span class="keywordflow">if</span> (limit != 0) {
                ss &lt;&lt; format(<span class="stringliteral">&quot;Limited to %u bytes&quot;</span>, limit) &lt;&lt; endl;
        }
        <span class="keywordtype">string</span> address = <span class="stringliteral">&quot;&quot;</span>;
        <span class="keywordtype">string</span> part1 = <span class="stringliteral">&quot;&quot;</span>;
        <span class="keywordtype">string</span> part2 = <span class="stringliteral">&quot;&quot;</span>;
        <span class="keywordtype">string</span> hr = <span class="stringliteral">&quot;&quot;</span>;
        limit = (limit == 0) ? <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> : limit;
        <span class="keywordflow">for</span> (uint32_t i = startIndex; i &lt; limit; i++) {
                <span class="keywordflow">if</span> (((i % 16) == 0) &amp;&amp; (i &gt; 0)) {
                        ss &lt;&lt; address &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; part1 &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; part2 &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; hr &lt;&lt; endl;
                        part1 = <span class="stringliteral">&quot;&quot;</span>;
                        part2 = <span class="stringliteral">&quot;&quot;</span>;
                        hr = <span class="stringliteral">&quot;&quot;</span>;
                }
                address = format(<span class="stringliteral">&quot;%08u&quot;</span>, i - (i % 16));

                <span class="keywordflow">if</span> ((i % 16) &lt; 8) {
                        part1 += format(<span class="stringliteral">&quot;%02hhx&quot;</span>, <a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a>[i]);
                        part1 += <span class="stringliteral">&quot; &quot;</span>;
                } <span class="keywordflow">else</span> {
                        part2 += format(<span class="stringliteral">&quot;%02hhx&quot;</span>, <a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a>[i]);
                        part2 += <span class="stringliteral">&quot; &quot;</span>;
                }

                <span class="keywordflow">if</span> (allowedCharacters.find(<a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a>[i], 0) != string::npos)
                        hr += <a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a>[i];
                <span class="keywordflow">else</span>
                        hr += <span class="charliteral">&#39;.&#39;</span>;
        }

        <span class="keywordflow">if</span> (part1 != <span class="stringliteral">&quot;&quot;</span>) {
                part1 += string(24 - part1.size(), <span class="charliteral">&#39; &#39;</span>);
                part2 += string(24 - part2.size(), <span class="charliteral">&#39; &#39;</span>);
                hr += string(16 - hr.size(), <span class="charliteral">&#39; &#39;</span>);
                ss &lt;&lt; address &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; part1 &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; part2 &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; hr &lt;&lt; endl;
        }
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;

        <span class="keywordflow">return</span> ss.str();
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa1c75b17c4c9c5606d54da3a1be52b6a"></a><!-- doxytag: member="IOBuffer::WriteToStdio" ref="aa1c75b17c4c9c5606d54da3a1be52b6a" args="(int32_t fd, uint32_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IOBuffer::WriteToStdio </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read data from standard IO and store it. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td></td></tr>
    <tr><td class="paramname">size</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00319">319</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;
        int32_t sent = WRITE_FD(fd, (<span class="keywordtype">char</span> *) (<a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a> + <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a>),
                        <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> - <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a>);
        <span class="comment">//size &gt; _published - _consumed ? _published - _consumed : size,</span>
        <span class="keywordtype">int</span> err = LASTSOCKETERROR;

        <span class="keywordflow">if</span> (sent &lt; 0) {
                <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Unable to send %u bytes of data data. Size advertised by network layer was %u [%d: %s]&quot;</span>,
                                <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> - <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a>, size, err, strerror(err));
                <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Permanent error!&quot;</span>);
                result = <span class="keyword">false</span>;
        } <span class="keywordflow">else</span> {
                <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a> += sent;
        }
        <span class="keywordflow">if</span> (result)
                <a class="code" href="classIOBuffer.html#aa5163b05606767aa214cd4ea7f3fbd51">Recycle</a>();
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;

        <span class="keywordflow">return</span> result;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6cadeec056dd234871df4bdc62ef7d39"></a><!-- doxytag: member="IOBuffer::WriteToTCPFd" ref="a6cadeec056dd234871df4bdc62ef7d39" args="(int32_t fd, uint32_t size, int32_t &amp;sentAmount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IOBuffer::WriteToTCPFd </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t &amp;&#160;</td>
          <td class="paramname"><em>sentAmount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read data from buffer and store it. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td></td></tr>
    <tr><td class="paramname">size</td><td>- Size of buffer </td></tr>
    <tr><td class="paramname">sentAmount</td><td>- Size of data sent </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="iobuffer_8cpp_source.html#l00293">293</a> of file <a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                          {
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;
        <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;
        sentAmount = send(fd, (<span class="keywordtype">char</span> *) (<a class="code" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">_pBuffer</a> + <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a>),
                        <span class="comment">//_published - _consumed,</span>
                        size &gt; <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> - <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a> ? <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> - <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a> : size,
                        MSG_NOSIGNAL);
        <span class="keywordtype">int</span> err = LASTSOCKETERROR;

        <span class="keywordflow">if</span> (sentAmount &lt; 0) {
                <span class="keywordflow">if</span> (err != SOCKERROR_SEND_IN_PROGRESS) {
                        <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Unable to send %u bytes of data data. Size advertised by network layer was %u [%d: %s]&quot;</span>,
                                        <a class="code" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">_published</a> - <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a>, size, err, strerror(err));
                        <a class="code" href="logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Permanent error!&quot;</span>);
                        result = <span class="keyword">false</span>;
                }
        } <span class="keywordflow">else</span> {
                <a class="code" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">_consumed</a> += sentAmount;
        }
        <span class="keywordflow">if</span> (result)
                <a class="code" href="classIOBuffer.html#aa5163b05606767aa214cd4ea7f3fbd51">Recycle</a>();
        <a class="code" href="iobuffer_8cpp.html#a51f424515c310a01ef173bc98bf62809">SANITY_INPUT_BUFFER</a>;

        <span class="keywordflow">return</span> result;
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ac8c647fe35a93f042d84abd84e0c3139"></a><!-- doxytag: member="IOBuffer::_consumed" ref="ac8c647fe35a93f042d84abd84e0c3139" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classIOBuffer.html#ac8c647fe35a93f042d84abd84e0c3139">IOBuffer::_consumed</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iobuffer_8h_source.html#l00041">41</a> of file <a class="el" href="iobuffer_8h_source.html">iobuffer.h</a>.</p>

</div>
</div>
<a class="anchor" id="a24ef93f91b69eeb2257924e1a28a05eb"></a><!-- doxytag: member="IOBuffer::_dummy" ref="a24ef93f91b69eeb2257924e1a28a05eb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">socklen_t <a class="el" href="classIOBuffer.html#a24ef93f91b69eeb2257924e1a28a05eb">IOBuffer::_dummy</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iobuffer_8h_source.html#l00043">43</a> of file <a class="el" href="iobuffer_8h_source.html">iobuffer.h</a>.</p>

</div>
</div>
<a class="anchor" id="aeae3d4eddafba31f0cf4537834def622"></a><!-- doxytag: member="IOBuffer::_minChunkSize" ref="aeae3d4eddafba31f0cf4537834def622" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classIOBuffer.html#aeae3d4eddafba31f0cf4537834def622">IOBuffer::_minChunkSize</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iobuffer_8h_source.html#l00042">42</a> of file <a class="el" href="iobuffer_8h_source.html">iobuffer.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0a0a5309d6351f21a9b1554812e25f9f"></a><!-- doxytag: member="IOBuffer::_pBuffer" ref="a0a0a5309d6351f21a9b1554812e25f9f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* <a class="el" href="classIOBuffer.html#a0a0a5309d6351f21a9b1554812e25f9f">IOBuffer::_pBuffer</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iobuffer_8h_source.html#l00038">38</a> of file <a class="el" href="iobuffer_8h_source.html">iobuffer.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae4927a037069088e5b5a5222f6c2b902"></a><!-- doxytag: member="IOBuffer::_published" ref="ae4927a037069088e5b5a5222f6c2b902" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classIOBuffer.html#ae4927a037069088e5b5a5222f6c2b902">IOBuffer::_published</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iobuffer_8h_source.html#l00040">40</a> of file <a class="el" href="iobuffer_8h_source.html">iobuffer.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac856782a0693926fba8eaba6795bf489"></a><!-- doxytag: member="IOBuffer::_size" ref="ac856782a0693926fba8eaba6795bf489" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classIOBuffer.html#ac856782a0693926fba8eaba6795bf489">IOBuffer::_size</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="iobuffer_8h_source.html#l00039">39</a> of file <a class="el" href="iobuffer_8h_source.html">iobuffer.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>branches/1.0/sources/common/include/utils/buffering/<a class="el" href="iobuffer_8h_source.html">iobuffer.h</a></li>
<li>branches/1.0/sources/common/src/utils/buffering/<a class="el" href="iobuffer_8cpp_source.html">iobuffer.cpp</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Oct 19 2011 15:53:38 for crtmpserver by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
